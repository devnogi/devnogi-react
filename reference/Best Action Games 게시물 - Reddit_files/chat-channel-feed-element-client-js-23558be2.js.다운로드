import{W as e,a7 as t,a8 as s,a9 as i,t as n,_ as a,n as l,e as o}from"./shell-47d14d7f.js";import{x as r,s as c}from"./icon-feb8496e.js";import"./all-chats-page-recommendations-client-js-15d978d2.js";import"./age-gate-standalone-client-js-2c5a180c.js";var d;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(d||(d={}));const h="data-chat-feed-element-dismiss",m="data-chat-feed-element-clickable",u="click";let C=class extends(e(c)){constructor(){super(...arguments),this.consumptionState=d.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=e=>{const n=this.nextElementSibling;n&&"HR"===n.nodeName&&this.parentElement?.removeChild(n),this.parentNode?.removeChild(this),e.stopPropagation(),t(i.Dismiss,s.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{t(i.Click,s.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector(`[${h}]`)?.addEventListener(u,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${h}]`)?.removeEventListener(u,this.onDismiss)}addClickHandlers(){this.querySelector(`[${m}]`)?.addEventListener(u,this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector(`[${m}]`)?.removeEventListener(u,this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===d.NONE&&(this.consumptionState=d.VIEWED,t(i.View,s.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return r`<slot></slot>`}};C.styles=[n],a([l({type:Boolean,attribute:"is-recommended"})],C.prototype,"isRecommended",void 0),a([l({type:Boolean,attribute:"is-multi-chat"})],C.prototype,"isMultiChat",void 0),C=a([o("chat-feed-element-wrapper")],C);
